{"ast":null,"code":"import { Observable, Subject, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../pokemon.service\";\nimport * as i3 from \"@angular/common\";\nfunction SearchPokemonComponent_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function SearchPokemonComponent_a_9_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const pokemon_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.goToDetails(pokemon_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pokemon_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pokemon_r2.name, \" \");\n  }\n}\nexport class SearchPokemonComponent {\n  constructor(router, pokemonService) {\n    this.router = router;\n    this.pokemonService = pokemonService;\n    this.searchTerms = new Subject();\n  }\n  ngOnInit() {\n    this.pokemons$ = this.searchTerms.pipe(\n    // debounceTime(300),\n    // distinctUntilChanged(),\n    switchMap(term => this.pokemonService.searchPokemonList(term)));\n  }\n  search(term) {\n    this.searchTerms.next(term);\n  }\n  goToDetails(pokemon) {\n    const link = ['/pokemon', pokemon.id];\n    this.router.navigate(link);\n  }\n  static #_ = this.ɵfac = function SearchPokemonComponent_Factory(t) {\n    return new (t || SearchPokemonComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PokemonService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchPokemonComponent,\n    selectors: [[\"app-search-pokemon\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"row\"], [1, \"col\", \"s12\", \"m6\", \"offset-m3\"], [1, \"card\"], [1, \"card-content\"], [1, \"input-field\"], [\"placeholder\", \"Rechercher un pok\\u00E9mon\", 3, \"keyup\"], [\"searchBox\", \"\"], [1, \"collection\"], [\"class\", \"collection-item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"collection-item\", 3, \"click\"]],\n    template: function SearchPokemonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r5 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 0)(5, \"div\", 4)(6, \"input\", 5, 6);\n        i0.ɵɵlistener(\"keyup\", function SearchPokemonComponent_Template_input_keyup_6_listener() {\n          i0.ɵɵrestoreView(_r5);\n          const _r0 = i0.ɵɵreference(7);\n          return i0.ɵɵresetView(ctx.search(_r0.value));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵtemplate(9, SearchPokemonComponent_a_9_Template, 2, 1, \"a\", 8);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 1, ctx.pokemons$));\n      }\n    },\n    dependencies: [i3.NgForOf, i3.AsyncPipe],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"AAEA,SAA6CA,UAAU,EAAEC,OAAO,EAAEC,SAAS,QAAQ,MAAM;;;;;;;;ICUlFC,4BAIC;IAFAA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAG9BA,YACD;IAAAA,iBAAI;;;;IADHA,eACD;IADCA,gDACD;;;ADNP,OAAM,MAAOC,sBAAsB;EAKlCC,YACSC,MAAc,EACdC,cAA8B;IAD9B,WAAM,GAAND,MAAM;IACN,mBAAc,GAAdC,cAAc;IALvB,gBAAW,GAAG,IAAIN,OAAO,EAAU;EAM9B;EAELO,QAAQ;IACP,IAAI,CAACC,SAAS,GAAG,IAAI,CAACC,WAAW,CAACC,IAAI;IACrC;IACA;IACAT,SAAS,CAAEU,IAAY,IAAK,IAAI,CAACL,cAAc,CAACM,iBAAiB,CAACD,IAAI,CAAC,CAAC,CACxE;EACF;EAEAE,MAAM,CAACF,IAAY;IAClB,IAAI,CAACF,WAAW,CAACK,IAAI,CAACH,IAAI,CAAC;EAC5B;EAEAI,WAAW,CAACC,OAAgB;IAC3B,MAAMC,IAAI,GAAG,CAAC,UAAU,EAAED,OAAO,CAACE,EAAE,CAAC;IACrC,IAAI,CAACb,MAAM,CAACc,QAAQ,CAACF,IAAI,CAAC;EAC3B;EAAC;qBAzBWd,sBAAsB;EAAA;EAAA;UAAtBA,sBAAsB;IAAAiB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;;QCZnCtB,8BAAiB;QAQVA;UAAAA;UAAA;UAAA,OAASA,oCAAuB;QAAA,EAAC;QAFlCA,iBAIC;QACDA,8BAAwB;QACvBA,mEAMI;;QACLA,iBAAM;;;QANgBA,eAAoB;QAApBA,8DAAoB","names":["Observable","Subject","switchMap","i0","SearchPokemonComponent","constructor","router","pokemonService","ngOnInit","pokemons$","searchTerms","pipe","term","searchPokemonList","search","next","goToDetails","pokemon","link","id","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/meleadr/Git/ng-pokemon-app/src/app/pokemon/search-pokemon/search-pokemon.component.ts","/Users/meleadr/Git/ng-pokemon-app/src/app/pokemon/search-pokemon/search-pokemon.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { debounceTime, distinctUntilChanged, Observable, Subject, switchMap } from 'rxjs';\nimport { Pokemon } from '../pokemon';\nimport { PokemonService } from '../pokemon.service';\n\n@Component({\n  selector: 'app-search-pokemon',\n  templateUrl: './search-pokemon.component.html',\n  styles: [\n  ]\n})\nexport class SearchPokemonComponent implements OnInit{\n\t\n\tsearchTerms = new Subject<string>();\n\tpokemons$: Observable<Pokemon[]>;\n\n\tconstructor(\n\t\tprivate router: Router,\n\t\tprivate pokemonService: PokemonService\n\t\t) { }\n\n\tngOnInit(): void {\n\t\tthis.pokemons$ = this.searchTerms.pipe(\n\t\t\t// debounceTime(300),\n\t\t\t// distinctUntilChanged(),\n\t\t\tswitchMap((term: string) => this.pokemonService.searchPokemonList(term))\n\t\t);\n\t}\n\n\tsearch(term: string){\n\t\tthis.searchTerms.next(term);\n\t}\n\n\tgoToDetails(pokemon: Pokemon){\n\t\tconst link = ['/pokemon', pokemon.id];\n\t\tthis.router.navigate(link);\n\t}\n\n}\n","<div class=\"row\">\n\t<div class=\"col s12 m6 offset-m3\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-content\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"input-field\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t#searchBox \n\t\t\t\t\t\t\t(keyup)=\"search(searchBox.value)\" \n\t\t\t\t\t\t\tplaceholder=\"Rechercher un pokémon\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"collection\">\n\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t*ngFor=\"let pokemon of pokemons$ | async\" \n\t\t\t\t\t\t\t\t(click)=\"goToDetails(pokemon)\"\n\t\t\t\t\t\t\t\tclass=\"collection-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ pokemon.name }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}